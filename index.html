<html>
  <head>
	<title>营销号文章生成器</title>
	<meta http-equiv="content-type" content="txt/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  </head>
  <body>
	<div id="主体">
	  <div id="标题">营销号文章生成器</div>
	  <div id="主题">
		<span>主体:</span>
		<input id="subject"></input>
		<br>
		<span>动作:</span>
		<input id="predicate"></input>
		<br>
		<span>另一种说法:</span>
		<input id="fact"></input>
		<button onclick="生成文章()">生成</button>
	  </div>
	  <div id="文章"></div>
	</div>
	<div id="页脚">
	  <p>营销号版 <a class="链接" href="https://github.com/TravinDreek/YingXiaoHaoGenerator"><svg class="图标" viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></path></svg>Peaksol</a></p>
	  <p>原版 <a class="链接" href="https://github.com/menzi11/BullshitGenerator"><svg class="图标" viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>menzi11</a></p>
	</div>
  </body>
</html>

<script>
window.$ = function (selector) {
	return document.querySelector(selector);
}

function 获取网址参数(参数) {
	return new URL(window.location.href).searchParams.get(参数)
}

let 论述 = [
	'这不，一位外国小哥也很好奇，他也试了试主题。结果会发生什么呢？',
	'大多数网友都想要知道主题的具体情况，',
	'没想到主体后面还有这种秘密，',
	'想知道的网友一定要看下去哦。',
	'想必各位网友们一定不知道，主体可不仅仅是动作那么简单。',
	'带着这些问题，让我们来审视一下主题：',
	'这似乎解答了各位网友们的疑惑。',
	'网友们也展开了热烈的讨论。',
	'也有网友表示，主体动作不动作都没有多大关系。',
	'网友纷纷表示：太不可思议了。',
	'这么一来，',
]

let 小编看法 = [
	'小编也做了个试验，可是这并没有解答小编关于主题的疑惑。',
	'小编认为，这一定是还有其他原因的。',
	'对此，小编也感到很不可思议。',
	'不过，这让小编也很疑惑不解。',
	'小编一下子就明白了许多。',
]

let 前面垫话 = [
	'曾经说过',
	'在不经意间这样说过',
	'曾经提到过',
	'说过一句富有哲理的话'
]

let 后面垫话 = [
	'这不禁令小编深思。',
	'带着这句话，我们还要更加慎重的审视这个问题： ',
	'这启发了小编，',
	'小编希望诸位也能好好地体会这句话。',
	'这句话语虽然很短，但令小编浮想联翩。',
	'这似乎解答了小编的疑惑。',
]

let 标题 = [
	'主题有些不对劲，当场冒了一身冷汗',
	'最新主题的消息，不敢相信这是真的',
	'主题到底是怎么回事？得知真相后大家都蒙圈了',
	'原来主题背后还有这种秘密，看完简直拉仇恨',
	'震惊！主题了，原因竟然是...',
	'三分钟带你了解主题，看完跪了',
	'最新消息！主题后竟然这样了...'
]

let 下取整 = Math.floor;

let 同余乘数 = 214013;
let 同余加数 = 2531011;
let 同余模 = Math.pow(2,32);

let 随机种子 = 获取网址参数('随机种子') || 下取整( 随便取一个数(0, 同余模, Math.random) );

let 主体 = 获取网址参数('主体') || '吃饭';
let 动作 = 获取网址参数('动作') || '用嘴';
let 另一种说法 = 获取网址参数('另一种说法') || '不能用屁股吃';
let 主题 = '';

$('#subject').value = 主体;
$('#predicate').value = 动作;
$('#fact').value = 另一种说法;

function 同余发生器() {
	随机种子 = ( 随机种子 * 同余乘数 + 同余加数 ) % 同余模;
	return 随机种子 / 同余模;
};

function 随便取一句(列表){
	let 坐标 = 下取整( 同余发生器() * 列表.length );
	return 列表[坐标];
}

function 随便取一个数(最小值 = 0,最大值 = 100,随机数函数 = 同余发生器){
	let 数字 = 随机数函数() * ( 最大值 - 最小值 ) + 最小值;
	return 数字;
}

function 来点小编看法(){
	let 看法 = 随便取一句(小编看法)
	看法 = 看法.replace(RegExp('主题', 'g'),主题);
	看法 = 看法.replace(RegExp('主体', 'g'),主体);
	看法 = 看法.replace(RegExp('动作', 'g'),动作);
	return 看法
}

function 来点论述(){
	let 句子 = 随便取一句(论述);
	句子 = 句子.replace(RegExp('主题', 'g'),主题);
	句子 = 句子.replace(RegExp('主体', 'g'),主体);
	句子 = 句子.replace(RegExp('动作', 'g'),动作);
	return 句子;
}

function 增加段落(段落){
	if(段落[段落.length-1] != '。'){
		段落 = 段落.slice(0,-1) + '。'
	}
	return '　　' + 段落 
}

function 来个标题(主题){
	let 随机标题 = 随便取一句(标题);
	随机标题 = 随机标题.replace(RegExp('主题', 'g'),主题);
	return '<h2 align="center">' + 随机标题 + '</h2>'
}

function 生成文章(){
	主体 = $('#subject').value;
	动作 = $('#predicate').value;
	另一种说法 = $('#fact').value;
	if(!(主体 && 动作 && 另一种说法)) return;
	主题 = 主体 + 动作;

	history.pushState({url: window.location.href}, null ,'?主体=' + 主体 + '&动作=' + 动作 + '&另一种说法=' + 另一种说法 + '&随机种子=' + 随机种子);
	let 文章 = []
	let 段落 = '';
	let 文章长度 = 0;

	文章.push(来个标题(主题));
	文章.push('　　' + 主题 + '是怎么回事呢？' + 主体 + '相信大家都很熟悉，但是' + 主题 + '是怎么回事呢，下面就让小编带大家一起了解吧。');

	while(true){
		let 随机数 = 随便取一个数();
		if(段落.length > 400){
			段落 = 增加段落(段落);
			文章.push(段落);
			break;
		}else if(随机数 < 20){
			let 句子 = 来点小编看法();
			文章长度 = 文章长度 + 句子.length;
			段落 = 段落 + 句子;
		}else{
			let 句子 = 来点论述();
			文章长度 = 文章长度 + 句子.length;
			段落 = 段落 + 句子;
		}
	}

	文章.push('　　总而言之，' + 主题 + '其实就是' + 另一种说法 + '， 大家可能会很惊讶' + 主体 + '怎么会' + 动作 +'呢？但事实就是这样，小编也感到非常惊讶。这就是关于' + 主题 + '的事情了，大家有什么想法呢，欢迎在评论区告诉小编一起讨论哦！');

	let 排版 = '<div>' + 文章.join('</div><div>') + '</div>';
	$('#文章').innerHTML = 排版;
}

if (获取网址参数('主体') && 获取网址参数('动作') && 获取网址参数('另一种说法')) {
	生成文章();
}

</script>
<style>
  @media screen and (max-width: 1024px) {
	html{
	  font-size: 2vw;
	  color: #333333;
	}
	body{
	  margin: 0;
	}
	#主体{
	  border: 2px solid #333333;
	  margin: 6px;
	  padding: 6px;
	  background: #f8f8f8;
	}
	#标题{
	  font-size: 3rem;
	  line-height: 3rem;
	  text-align: center;
	}
	#主题{
	  text-align: center;
	  margin-top: 6px;
	  font-size: 0px;
	}
	#主题 span{
	  font-size: 2rem;
	  vertical-align: baseline;
	  margin-left: 6px;
	}
	#主题 input{
	  border: none;
	  border-bottom: #666666 2px solid;
	  padding: 1px 0 0 0;
	  margin: 0px 6px 0 6px;
	  vertical-align: baseline;
	  font-size: 2rem;
	  background: #f8f8f8;
	  color: #333333;
	  text-align: center;
	  min-width: 20%;
	}
	#主题 button{
	  border: 0;
	  padding: 3px 7px 3px 7px;
	  margin: 0;
	  vertical-align: top;
	  font-size: 1.4rem;
	  background: #454545;
	  color: #efefef;
	}
	#文章 div{
	  margin-top: 6px;
	  font-size: 2rem;
	  text-align: justify;
	}
	#页脚{
	  margin: 6px;
	}
	#页脚 p{
	  margin: 3px;
	  font-size: 1.4rem;
	  text-align: right;
	}
	.链接{
	  color: #666666;
	}
	.图标{
	  height: 1rem;
	  width: 1rem;
	  vertical-align: top;
	  margin-top: 2px;
	}
  }

  @media screen and (min-width: 1024px) {
	html{
	  font-size: 1.3vw;
	  color: #333333;
	}
	body{
	  margin: 0;
	}
	#主体{
	  border: 2px solid #333333;
	  margin: 20px;
	  padding: 20px;
	  background: #f8f8f8;
	}
	#标题{
	  font-size: 1.9rem;
	  line-height: 1.9rem;
	  text-align: center;
	}
	#主题{
	  text-align: center;
	  margin-top: 20px;
	  font-size: 0px;
	}
	#主题 span{
	  font-size: 1rem;
	  vertical-align: baseline;
	  margin-left: 20px;
	}
	#主题 input{
	  border: none;
	  border-bottom: #666666 2px solid;
	  padding: 1px 0 0 0;
	  margin: 0px 20px 0 20px;
	  vertical-align: baseline;
	  font-size: 1rem;
	  background: #f8f8f8;
	  color: #333333;
	  text-align: center;
	  min-width: 20%;
	}
	#主题 button{
	  border: 0;
	  padding: 5px 15px 5px 15px;
	  margin: 0;
	  vertical-align: top;
	  font-size: 0.75rem;
	  background: #454545;
	  color: #efefef;
	}
	#文章 div{
	  margin-top: 20px;
	  text-align: justify;
	}
	#页脚{
	  margin: 20px;
	}
	#页脚 p{
	  margin: 5px;
	  font-size: 0.75rem;
	  text-align: right;
	}
	.链接{
	  color: #666666;
	}
	#页脚 span{
	  padding: 2px 0 0 0;
	  vertical-align: baseline;
	}
	.图标{
	  height: 0.7rem;
	  width: 0.7rem;
	  vertical-align: top;
	  margin-top: 4px;
	}
  }

</style>